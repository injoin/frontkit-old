// FORMS
// -----------------------

// Non controls
// ------------
form {
  margin: 0;
}

fieldset {
  margin: 0;
  padding: 0;
  border: 0;
}

legend {
  display: block;
  width: 100%;
  margin-bottom: @line-height-computed;
  border-bottom: 1px solid @gray-light;
  color: @gray-dark;
  line-height: ( @line-height-base * 1.5 );
  font-size: ( @font-size-base * 2 );
}

label {
  display: block;
  margin-bottom: 5px;
}

// Form controls
// -------------
.form-control {
  display: inline-block;
  width: 100%;
  min-height: @input-height-base;
  margin-bottom: ( @line-height-computed / 2 );
  padding: @padding-base-vertical @padding-base-horizontal;
  border: 1px solid @input-border;
  border-radius: @input-border-radius;
  color: @gray;
  vertical-align: middle;
  background-color: @input-bg;

  .box-shadow( inset 0 1px 1px rgba( 0, 0, 0, 0.1 ) );
  .transition( ~"border-color linear 0.2s, box-shadow linear 0.2s" );

  // Placeholder support
  .placeholder();

  // Focused controls
  &:focus {
    .input-focus();
  }

  // Disabled state
  &[ disabled ],
  &[ readonly ],
  fieldset[ disabled ] & {
    cursor: not-allowed;
    background-color: @input-disabled-bg;
  }

  // Reset textarea height, because they have rows
  textarea& {
    height: auto;
  }
}

// Reset width of some input types, because of the generic input selector
input[ type="file" ],
input[ type="image" ],
input[ type="reset" ],
input[ type="submit" ],
input[ type="button" ],
input[ type="radio" ],
input[ type="checkbox" ] {
  &.form-control {
    width: auto;
  }
}

// Sets height of select and file to match text inputs
select,
input[ type="file" ] {
  &.form-control {
    height: @input-height-base;
    line-height: @input-height-base;
  }
}

// Selects that may show more than one item at once must not have fixed height
select[ multiple ],
select[ size ] {
  &.form-control {
    height: auto;
  }
}

// Focus for select, file, radio and checkbox
select,
input[ type="file" ],
input[ type="radio" ],
input[ type="checkbox" ] {
  &:focus {
    .tab-focus();
  }
}

// Clickable controls
// ------------------
label,
select,
button,
input[ type="reset" ],
input[ type="submit" ],
input[ type="button" ],
input[ type="checkbox" ],
input[ type="radio" ] {
  cursor: pointer;
}

// Radios & checkboxes
// -------------------
.radio,
.checkbox {
  display: block;
  min-height: @line-height-computed;
  padding-left: 20px;
  margin-bottom: ( @line-height-computed / 2 );
  vertical-align: middle;

  > label {
    display: inline;
    margin-bottom: 0;
  }
}

.radio > input[ type="radio" ],
.checkbox > input[ type="checkbox" ] {
  float: left;
  margin: 3.5px 0 0 -20px;
}

// Inline Form
// -----------

/**
 * 1. Ensure that inline forms will not use the whole row
 */
.form-inline {
  .form-control {
    width: auto; /* 1 */
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }

  .checkbox,
  .radio {
    display: inline-block;
    margin-bottom: 0;
  }

  .input-group {
    margin-bottom: 0;

    .form-control,
    .input-group-addon,
    .input-group-btn {
      width: auto; /* 1 */
    }
  }
}

// Input help text
// ---------------
.input-help {
  display: block;
  margin-top: ( @line-height-computed / 4 );
  margin-bottom: ( @line-height-computed / 2 );
  color: lighten( @text-color, 25% );
}

.form-control,
.input-group {
  + .input-help {
    margin-top: -( @line-height-computed / 4 );
  }
}

// Validation states
// -----------------
.form-field-validation-state( warning, @brand-warning );
.form-field-validation-state( error, @brand-danger );
.form-field-validation-state( success, @brand-success );

// Input Sizing
// ------------
.form-control {
  &.input-small {
    min-height: @input-height-small;
    padding: @padding-small-vertical @padding-small-horizontal;
    font-size: @font-size-small;
  }

  &.input-large {
    min-height: @input-height-large;
    padding: @padding-large-vertical @padding-large-horizontal;
    font-size: @font-size-large;
  }
}